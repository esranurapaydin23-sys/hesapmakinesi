<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Hesap Makinesi</title>
    <link rel="icon" type="image/png" href="favicon-32x32.png">

<style>
* { box-sizing: border-box; }

body {
    height: 100vh;
    margin: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: Arial, sans-serif;
    transition: 0.3s;
}

body.dark {
    background: linear-gradient(135deg, #3f033f, #983ca0);
    color: #fff;
}

body.light {
    background: linear-gradient(135deg, #f0a6a6, #d6d6d6);
    color: #000;
}

.calculator {
    width: 340px;
    padding: 18px;
    border-radius: 18px;
    box-shadow: 0 15px 40px rgba(0,0,0,0.4);
    background: inherit;
}

/* HEADER */
.header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
}

.title {
    font-size: 18px;
    font-weight: bold;
}

.top-icons {
    display: flex;
    gap: 8px;
}

.icon-btn {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    border: none;
    cursor: pointer;
    font-size: 14px;
}

/* SCREEN */
.screen {
    background: rgba(0,0,0,0.85);
    color: rgb(255, 0, 242);
    font-size: 30px;
    text-align: right;
    padding: 18px;
    border-radius: 12px;
    margin-bottom: 15px;
    min-height: 70px;
}

/* SCIENTIFIC BUTTONS */
.scientific-buttons {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 8px;
    margin-bottom: 15px;
}

/* BUTTONS */
.buttons {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 10px;
}

button.calc {
    height: 55px;
    border: none;
    border-radius: 12px;
    font-size: 20px;
    cursor: pointer;
}

.num { background: #492323; color: #fff; }
.operator { background: #c21f02; }
.equal { background: #8a325e; grid-column: span 2; }
.clear { background: #f44336; color: #fff; }

button:hover { opacity: 0.85; }

/* MODAL */
.modal {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.6);
    display: none;
    justify-content: center;
    align-items: center;
}

.modal-content {
    background: #1f1f1f;
    width: 300px;
    max-height: 400px;
    padding: 15px;
    border-radius: 14px;
    overflow-y: auto;
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
}

.modal-header button {
    background: none;
    border: none;
    color: #fff;
    font-size: 18px;
    cursor: pointer;
}

.clear-history {
    width: 100%;
    margin-top: 10px;
    background: #f44336;
    border: none;
    padding: 8px;
    border-radius: 10px;
    cursor: pointer;
    color: #fff;
}
</style>
</head>

<body class="dark">

<div class="calculator">

    <div class="header">
        <span class="title">Hesap Makinesi</span>

        <div class="top-icons">
            <button class="icon-btn" onclick="toggleHistory()">üßæ</button>
            <button class="icon-btn" onclick="toggleTheme()">üåô</button>
            <button class="icon-btn" onclick="toggleFullscreen()">‚õ∂</button>
            <button class="icon-btn" onclick="toggleScientific()">üî¨</button>
        </div>
    </div>

    <div class="screen" id="screen">0</div>

    <!-- Bilimsel tu≈ülar -->
    <div class="scientific-buttons" id="scientificButtons" style="display:none;">
        <button class="calc operator" onclick="append('Math.sqrt(')">‚àö</button>
        <button class="calc operator" onclick="append('**2')">x¬≤</button>
        <button class="calc operator" onclick="append('**')">x ∏</button>
        <button class="calc operator" onclick="append('Math.log10(')">log</button>
        <button class="calc operator" onclick="append('Math.log(')">ln</button>
        <button class="calc operator" onclick="append('Math.sin(')">sin</button>
        <button class="calc operator" onclick="append('Math.cos(')">cos</button>
        <button class="calc operator" onclick="append('Math.tan(')">tan</button>
        <button class="calc operator" onclick="append('Math.PI')">œÄ</button>
    </div>

    <div class="buttons">
        <button class="calc clear" onclick="clearScreen()">C</button>
        <button class="calc operator" onclick="append('/')">√∑</button>
        <button class="calc operator" onclick="append('*')">√ó</button>
        <button class="calc operator" onclick="append('-')">‚àí</button>

        <button class="calc num" onclick="append('7')">7</button>
        <button class="calc num" onclick="append('8')">8</button>
        <button class="calc num" onclick="append('9')">9</button>
        <button class="calc operator" onclick="append('+')">+</button>

        <button class="calc num" onclick="append('4')">4</button>
        <button class="calc num" onclick="append('5')">5</button>
        <button class="calc num" onclick="append('6')">6</button>
        <button class="calc num" onclick="append('.')">.</button>

        <button class="calc num" onclick="append('1')">1</button>
        <button class="calc num" onclick="append('2')">2</button>
        <button class="calc num" onclick="append('3')">3</button>
        <button class="calc num" onclick="append('0')">0</button>

        <button class="calc equal" onclick="calculate()">=</button>
    </div>
</div>

<!-- GE√áMƒ∞≈û MODAL -->
<div class="modal" id="historyModal">
    <div class="modal-content">
        <div class="modal-header">
            <strong>ƒ∞≈ülem Ge√ßmi≈üi</strong>
            <button onclick="toggleHistory()">‚úï</button>
        </div>
        <div id="historyList"></div>
        <button class="clear-history" onclick="clearHistory()">Ge√ßmi≈üi Temizle</button>
    </div>
</div>

<script>
const screen = document.getElementById("screen");
const modal = document.getElementById("historyModal");
const historyList = document.getElementById("historyList");

function append(val) {
    screen.innerText = screen.innerText === "0" ? val : screen.innerText + val;
}

function clearScreen() {
    screen.innerText = "0";
}

function calculate() {
    try {
        const exp = screen.innerText;
        const result = eval(exp);
        screen.innerText = result;

        const item = document.createElement("div");
        item.textContent = `${exp} = ${result}`;
        historyList.prepend(item);
    } catch {
        screen.innerText = "Hata";
        setTimeout(clearScreen, 1000);
    }
}

function toggleTheme() {
    const themeBtn = document.querySelector('.top-icons button:nth-child(2)');
    document.body.classList.toggle("dark");
    document.body.classList.toggle("light");

    if(document.body.classList.contains("dark")) {
        themeBtn.textContent = "üåô";
    } else {
        themeBtn.textContent = "‚òÄÔ∏è";
    }
}

function toggleHistory() {
    modal.style.display = modal.style.display === "flex" ? "none" : "flex";
}

function clearHistory() {
    historyList.innerHTML = "";
}

function toggleFullscreen() {
    if (!document.fullscreenElement) {
        document.documentElement.requestFullscreen();
    } else {
        document.exitFullscreen();
    }
}

function toggleScientific() {
    const sci = document.getElementById("scientificButtons");
    sci.style.display = sci.style.display === "none" ? "grid" : "none";
}document.addEventListener("keydown", function(event) {
    const key = event.key;

    if (!isNaN(key)) { // sayƒ±lar
        append(key);
    } else if (key === "+" || key === "-" || key === "*" || key === "/") {
        append(key);
    } else if (key === "Enter") {
        calculate();
    } else if (key === "Backspace") {
        screen.innerText = screen.innerText.slice(0, -1) || "0";
    } else if (key === ".") {
        append(".");
    }
});

</script>

</body>
</html>

